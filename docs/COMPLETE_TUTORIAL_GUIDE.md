# Shinka å®Œå…¨ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¬ã‚¤ãƒ‰

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0
**æœ€çµ‚æ›´æ–°**: 2025-11-07
**å¯¾è±¡**: Shinka QA & Shinka Evolve çµ±åˆã‚¬ã‚¤ãƒ‰
**æ‰€è¦æ™‚é–“**: 6æ™‚é–“ï¼ˆå…¨ãƒ‘ãƒ¼ãƒˆï¼‰

---

## ğŸ“š ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [Shinka QAãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](#shinka-qaãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«)
- [Shinka Evolveãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](#shinka-evolveãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«)
- [çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
- [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
- [FAQ](#faq)

---

## ğŸ¯ æ¦‚è¦

### Shinkaãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å…¨ä½“åƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Shinkaã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Shinka QA      â”‚   Shinka Evolve              â”‚
â”‚  (Quality        â”‚   (Evolution                 â”‚
â”‚   Assurance)     â”‚    Algorithm)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ†ã‚¹ãƒˆå“è³ªæ”¹å–„    â”‚ é€²åŒ–çš„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ             â”‚
â”‚ ãƒ»è‡ªå‹•ãƒ†ã‚¹ãƒˆç”Ÿæˆ  â”‚ ãƒ»å³¶ãƒ¢ãƒ‡ãƒ«                   â”‚
â”‚ ãƒ»å¤‰ç•°æˆ¦ç•¥       â”‚ ãƒ»å¤šç›®çš„æœ€é©åŒ–               â”‚
â”‚ ãƒ»ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š  â”‚ ãƒ»ä¸¦åˆ—é€²åŒ–                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ã¤ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é–¢ä¿‚

**Shinka QA (Quality Assurance)**:
- **ç›®çš„**: ãƒ†ã‚¹ãƒˆå“è³ªã‚’è‡ªå‹•çš„ã«æ”¹å–„
- **å¯¾è±¡**: Pythonã®pytestãƒ†ã‚¹ãƒˆ
- **æ–¹æ³•**: é€²åŒ–çš„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ãƒ†ã‚¹ãƒˆã‚’é€²åŒ–
- **å‡ºåŠ›**: æ”¹å–„ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰

**Shinka Evolve**:
- **ç›®çš„**: æ±ç”¨çš„ãªé€²åŒ–çš„æœ€é©åŒ–
- **å¯¾è±¡**: ä»»æ„ã®æœ€é©åŒ–å•é¡Œ
- **æ–¹æ³•**: éºä¼çš„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€å³¶ãƒ¢ãƒ‡ãƒ«
- **å‡ºåŠ›**: æœ€é©åŒ–ã•ã‚ŒãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

**çµ±åˆåˆ©ç”¨**:
Shinka QAã¯ã€å†…éƒ¨ã§Shinka Evolveã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
- Shinka Evolve â†’ ã‚³ã‚¢ã®é€²åŒ–ã‚¨ãƒ³ã‚¸ãƒ³
- Shinka QA â†’ ãƒ†ã‚¹ãƒˆå“è³ªæ”¹å–„ã¸ã®ç‰¹åŒ–

---

## ğŸ§ª Shinka QAãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

### Part 0-10: å®Œå…¨ã‚¬ã‚¤ãƒ‰

#### Part 0: ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ (10åˆ†)

**å­¦ã¶ã“ã¨**:
- ãƒ†ã‚¹ãƒˆå“è³ªã®é‡è¦æ€§
- Shinka QAã®æ¦‚è¦
- æ‰‹å‹•ãƒ†ã‚¹ãƒˆã®é™ç•Œ

**ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆ**:
```
æœ¬ç•ªãƒã‚°ã®ã‚³ã‚¹ãƒˆ: Â¥500,000 - Â¥2,000,000
é–‹ç™ºæ®µéšã®ã‚³ã‚¹ãƒˆ: Â¥10,000 - Â¥50,000
ã‚³ã‚¹ãƒˆå‰Šæ¸›ç‡: 95%ä»¥ä¸Š
```

**Before/Afteræ¯”è¼ƒ**:
```python
# Before: 5å€‹ã®ãƒ†ã‚¹ãƒˆã€ã‚«ãƒãƒ¬ãƒƒã‚¸42%
def test_add():
    assert add(2, 3) == 5

# After: 15å€‹ã®ãƒ†ã‚¹ãƒˆã€ã‚«ãƒãƒ¬ãƒƒã‚¸92%
@pytest.mark.parametrize("a,b,expected", [
    (2, 3, 5), (0, 0, 0), (-1, 1, 0), (1.5, 2.5, 4.0),
])
def test_add_comprehensive(a, b, expected):
    assert add(a, b) == expected
```

---

#### Part 1: ã¯ã˜ã‚ã¦ã®é€²åŒ– (15åˆ†)

**å®Ÿè·µå†…å®¹**:
```bash
# 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -e .

# 2. ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
shinka-qa benchmark --config quality_config.yaml

# 3. é€²åŒ–å®Ÿè¡Œ
shinka-qa evolve --config quality_config.yaml --verbose

# 4. çµæœå¯è¦–åŒ–
shinka-qa visualize --results-dir results/run_*/ --generate-report
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
- ã‚«ãƒãƒ¬ãƒƒã‚¸: 42.5% â†’ 92.0% (+49.5pt)
- ãƒ†ã‚¹ãƒˆæ•°: 5å€‹ â†’ 15å€‹ (+200%)
- å®Ÿè¡Œæ™‚é–“: 2-5åˆ†

---

#### Part 2: è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º (20åˆ†)

**è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **:
```yaml
# quality_config.yaml

target:
  module: src/
  exclude:
    - __pycache__
    - tests/

test:
  initial_file: tests/test_main.py
  framework: pytest
  coverage_tool: pytest-cov

fitness:
  weights:
    coverage: 0.4          # ã‚«ãƒãƒ¬ãƒƒã‚¸ã®é‡è¦åº¦
    bug_detection: 0.3     # ãƒã‚°æ¤œå‡ºã®é‡è¦åº¦
    execution_time: 0.2    # å®Ÿè¡Œé€Ÿåº¦ã®é‡è¦åº¦
    code_quality: 0.1      # ã‚³ãƒ¼ãƒ‰å“è³ªã®é‡è¦åº¦

evolution:
  num_generations: 5
  population_per_island: 6
  num_islands: 4

output:
  results_dir: results/
```

**é‡ã¿ãƒ‘ã‚¿ãƒ¼ãƒ³é›†**:

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | coverage | bug_detection | execution_time | code_quality | ç”¨é€” |
|---------|----------|---------------|----------------|--------------|------|
| ãƒãƒ©ãƒ³ã‚¹å‹ | 0.4 | 0.3 | 0.2 | 0.1 | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
| ã‚«ãƒãƒ¬ãƒƒã‚¸é‡è¦– | 0.7 | 0.15 | 0.1 | 0.05 | ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ãŒã‚ã‚‹ |
| ãƒã‚°æ¤œå‡ºé‡è¦– | 0.2 | 0.6 | 0.1 | 0.1 | æœ¬ç•ªãƒã‚°ãŒé »ç™º |
| å®Ÿè¡Œé€Ÿåº¦é‡è¦– | 0.3 | 0.3 | 0.3 | 0.1 | CI/CDã§é »ç¹å®Ÿè¡Œ |
| å“è³ªé‡è¦– | 0.3 | 0.3 | 0.1 | 0.3 | é•·æœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ |

---

#### Part 3: å¤‰ç•°æˆ¦ç•¥ã®ç†è§£ (25åˆ†)

**8ã¤ã®å¤‰ç•°æˆ¦ç•¥**:

1. **add_edge_case**: å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆè¿½åŠ 
   ```python
   # Before
   assert calculate_discount(30) == 0.1

   # After
   assert calculate_discount(17) == 0.0  # å¢ƒç•Œã®å‰
   assert calculate_discount(18) == 0.1  # å¢ƒç•Œ
   assert calculate_discount(19) == 0.1  # å¢ƒç•Œã®å¾Œ
   ```

2. **parameterize_test**: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–
   ```python
   @pytest.mark.parametrize("age,expected", [
       (17, 0.0), (18, 0.1), (64, 0.1), (65, 0.3), (66, 0.3)
   ])
   def test_discount(age, expected):
       assert calculate_discount(age) == expected
   ```

3. **add_error_handling**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
   ```python
   def test_negative_age():
       with pytest.raises(ValueError):
           calculate_discount(-1)
   ```

4. **add_assertion**: ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³æ”¹å–„
5. **add_fixture**: ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£è¿½åŠ 
6. **add_mock**: ãƒ¢ãƒƒã‚¯/ã‚¹ã‚¿ãƒ–
7. **optimize_assertion**: ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–
8. **refactor_test**: ãƒ†ã‚¹ãƒˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

---

#### Part 4: å®Ÿãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé©ç”¨ (30åˆ†)

**é©ç”¨ä¾‹**:

**å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (100-500è¡Œ)**:
```yaml
evolution:
  num_generations: 3
  population_per_island: 4
  num_islands: 2

fitness:
  weights:
    coverage: 0.5      # ã‚«ãƒãƒ¬ãƒƒã‚¸é‡è¦–
    bug_detection: 0.3
    execution_time: 0.1
    code_quality: 0.1
```

**ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (500-5000è¡Œ)**:
```yaml
evolution:
  num_generations: 5
  population_per_island: 6
  num_islands: 4

fitness:
  weights:
    coverage: 0.4      # ãƒãƒ©ãƒ³ã‚¹å‹
    bug_detection: 0.3
    execution_time: 0.2
    code_quality: 0.1
```

**å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (5000è¡Œä»¥ä¸Š)**:
```yaml
evolution:
  num_generations: 10
  population_per_island: 8
  num_islands: 8

fitness:
  weights:
    coverage: 0.3
    bug_detection: 0.4  # ãƒã‚°æ¤œå‡ºé‡è¦–
    execution_time: 0.2
    code_quality: 0.1
```

---

#### Part 5: CI/CDçµ±åˆ (25åˆ†)

**GitHub Actionsçµ±åˆ**:
```yaml
# .github/workflows/test.yml
name: Shinka QA

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test-quality:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.11'

      - name: Install Shinka QA
        run: pip install shinka-qa

      - name: Run Evolution
        run: shinka-qa evolve --config quality_config.yaml

      - name: Check Coverage
        run: |
          coverage=$(python -c "import json; print(json.load(open('results/latest/metrics.json'))['final_metrics']['coverage'])")
          if (( $(echo "$coverage < 80" | bc -l) )); then
            echo "Coverage below 80%: $coverage"
            exit 1
          fi
```

---

#### Part 6-10: é«˜åº¦ãªä½¿ã„æ–¹ã€ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã€ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã€ã¾ã¨ã‚

*è©³ç´°ã¯å„ãƒ‘ãƒ¼ãƒˆã®ã‚¬ã‚¤ãƒ‰ã‚’å‚ç…§*

---

## ğŸ§¬ Shinka Evolveãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

### Part 0-4: é€²åŒ–çš„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚¬ã‚¤ãƒ‰

#### Part 0: ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ (15åˆ†)

**é€²åŒ–çš„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã¯**:
```python
# è‡ªç„¶é¸æŠã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
å€‹ä½“ â†’ è©•ä¾¡ â†’ é¸æŠ â†’ äº¤å‰ â†’ å¤‰ç•° â†’ æ¬¡ä¸–ä»£
```

**åŸºæœ¬æ¦‚å¿µ**:
- **å€‹ä½“ (Individual)**: è§£ã®å€™è£œ
- **é›†å›£ (Population)**: å€‹ä½“ã®é›†ã¾ã‚Š
- **é©å¿œåº¦ (Fitness)**: è§£ã®è‰¯ã•
- **ä¸–ä»£ (Generation)**: é€²åŒ–ã®ã‚¹ãƒ†ãƒƒãƒ—
- **é¸æŠ (Selection)**: è‰¯ã„å€‹ä½“ã‚’æ®‹ã™
- **äº¤å‰ (Crossover)**: å€‹ä½“ã‚’çµ„ã¿åˆã‚ã›ã‚‹
- **å¤‰ç•° (Mutation)**: ãƒ©ãƒ³ãƒ€ãƒ ãªå¤‰æ›´

---

#### Part 1: åŸºæœ¬çš„ãªé€²åŒ– (25åˆ†)

**ä¾‹1: One Maxå•é¡Œ**
```python
from shinka_evolve import Evolution
import numpy as np

# é©å¿œåº¦é–¢æ•°: 1ã®æ•°ã‚’æ•°ãˆã‚‹
def fitness(individual):
    return np.sum(individual)

# é€²åŒ–è¨­å®š
evolution = Evolution(
    fitness_function=fitness,
    num_genes=20,              # 20ãƒ“ãƒƒãƒˆ
    gene_type='binary',
    population_per_island=50,
    num_islands=1
)

# é€²åŒ–å®Ÿè¡Œ
best = evolution.evolve(num_generations=50)
print(f"Best solution: {best}")  # [1 1 1 ... 1 1]
```

**ä¾‹2: Sphereé–¢æ•°æœ€å°åŒ–**
```python
def fitness(individual):
    return -np.sum(individual ** 2)  # æœ€å°åŒ–ãªã®ã§è² ã«ã™ã‚‹

evolution = Evolution(
    fitness_function=fitness,
    num_genes=10,
    gene_type='real',
    bounds=[(-5, 5)] * 10
)

best = evolution.evolve(num_generations=100)
print(f"Minimum: {-fitness(best):.6f}")  # â‰ˆ 0.0
```

---

#### Part 2: å³¶ãƒ¢ãƒ‡ãƒ« (30åˆ†)

**ä¸¦åˆ—é€²åŒ–ã®ä»•çµ„ã¿**:
```
Island 1    Island 2    Island 3    Island 4
50 å€‹ä½“    50 å€‹ä½“     50 å€‹ä½“     50 å€‹ä½“
  â†“           â†“           â†“           â†“
é€²åŒ–(ç‹¬ç«‹)  é€²åŒ–(ç‹¬ç«‹)  é€²åŒ–(ç‹¬ç«‹)  é€²åŒ–(ç‹¬ç«‹)
  â†“           â†“           â†“           â†“
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç§»ä½äº¤æ› â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç§»ä½æˆ¦ç•¥**:
```python
evolution = Evolution(
    num_islands=4,
    migration_interval=10,      # 10ä¸–ä»£ã”ã¨
    migration_size=2,           # 2å€‹ä½“ç§»ä½
    migration_policy='best',    # 'best', 'random', 'tournament'
    migration_topology='ring'   # 'ring', 'fully_connected', 'hub'
)
```

**é€Ÿåº¦æ¯”è¼ƒ**:
```python
# å˜ä¸€å³¶
evolution_single = Evolution(
    num_islands=1,
    population_per_island=200
)

# å³¶ãƒ¢ãƒ‡ãƒ«
evolution_islands = Evolution(
    num_islands=4,
    population_per_island=50  # åˆè¨ˆ200å€‹ä½“
)

# Speedup: 3.6å€
```

---

#### Part 3: ã‚«ã‚¹ã‚¿ãƒ é©å¿œåº¦é–¢æ•° (35åˆ†)

**è¨­è¨ˆåŸå‰‡**:

1. **æ˜ç¢ºãªç›®çš„**:
```python
def fitness(individual):
    """
    ç›®çš„: ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ç²¾åº¦ã‚’æœ€å¤§åŒ–
    individual: [learning_rate, num_layers, num_neurons]
    """
    model = create_model(individual)
    accuracy = train_and_evaluate(model)
    return accuracy
```

2. **é©åˆ‡ãªã‚¹ã‚±ãƒ¼ãƒ«**:
```python
def fitness(individual):
    obj1 = expensive_computation(individual) / 1000  # æ­£è¦åŒ–
    obj2 = cheap_metric(individual)
    return obj1 + obj2
```

3. **è¨ˆç®—åŠ¹ç‡**:
```python
# ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ãƒ­ãƒ¼ãƒ‰
DATA = load_data()

def fitness(individual):
    return process(individual, DATA)  # ãƒ•ã‚¡ã‚¤ãƒ«I/Oä¸è¦
```

**å¤šç›®çš„æœ€é©åŒ–ï¼ˆNSGA-IIï¼‰**:
```python
from shinka_evolve import NSGA2

def fitness_vector(individual):
    accuracy = compute_accuracy(individual)
    complexity = compute_complexity(individual)
    return [accuracy, -complexity]  # ä¸¡æ–¹æœ€å¤§åŒ–

evolution = NSGA2(
    fitness_function=fitness_vector,
    num_objectives=2,
    num_genes=10
)

pareto_front = evolution.evolve(num_generations=100)
```

**åˆ¶ç´„æ¡ä»¶ï¼ˆãƒšãƒŠãƒ«ãƒ†ã‚£æ³•ï¼‰**:
```python
def fitness_with_constraint(individual):
    objective = compute_objective(individual)

    violation = 0
    if sum(individual) > 100:
        violation += (sum(individual) - 100) ** 2

    penalty = 1000
    return objective - penalty * violation
```

---

#### Part 4: å®Ÿå•é¡Œã¸ã®é©ç”¨ (40åˆ†)

**ã‚±ãƒ¼ã‚¹1: LightGBMãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–**
```python
import lightgbm as lgb
from sklearn.datasets import load_digits
from sklearn.model_selection import train_test_split

X, y = load_digits(return_X_y=True)
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)

def lightgbm_fitness(individual):
    learning_rate, num_leaves, max_depth, min_child_samples, subsample, colsample = individual

    params = {
        'objective': 'multiclass',
        'num_class': 10,
        'learning_rate': learning_rate,
        'num_leaves': int(num_leaves),
        'max_depth': int(max_depth),
        'min_child_samples': int(min_child_samples),
        'subsample': subsample,
        'colsample_bytree': colsample,
        'verbose': -1
    }

    dtrain = lgb.Dataset(X_train, label=y_train)
    cv_results = lgb.cv(params, dtrain, num_boost_round=100, nfold=3)

    return -max(cv_results['valid multi_logloss-mean'])

evolution = Evolution(
    fitness_function=lightgbm_fitness,
    num_genes=6,
    bounds=[
        (0.001, 0.3),   # learning_rate
        (10, 200),      # num_leaves
        (3, 15),        # max_depth
        (5, 100),       # min_child_samples
        (0.5, 1.0),     # subsample
        (0.5, 1.0)      # colsample_bytree
    ],
    num_islands=4,
    population_per_island=20
)

best = evolution.evolve(num_generations=50)
```

**ã‚±ãƒ¼ã‚¹2: CNNã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¢ç´¢**
```python
import torch
import torch.nn as nn

def build_cnn(individual):
    num_conv_layers = int(individual[0])
    num_filters = int(individual[1])
    kernel_size = int(individual[2])
    dropout = individual[3]
    lr = individual[4]

    layers = []
    in_channels = 1

    for i in range(num_conv_layers):
        layers.append(nn.Conv2d(in_channels, num_filters, kernel_size))
        layers.append(nn.ReLU())
        layers.append(nn.MaxPool2d(2))
        in_channels = num_filters

    layers.append(nn.Flatten())
    # ... (ä»¥ä¸‹ç•¥)

    return nn.Sequential(*layers), lr

def cnn_fitness(individual):
    model, lr = build_cnn(individual)
    # è¨“ç·´ã¨è©•ä¾¡
    accuracy = train_and_evaluate(model, lr)

    # ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºãƒšãƒŠãƒ«ãƒ†ã‚£
    num_params = sum(p.numel() for p in model.parameters())
    size_penalty = num_params / 1e6

    return accuracy - 0.05 * size_penalty
```

**ã‚±ãƒ¼ã‚¹3: ã‚²ãƒ¼ãƒ AI (CartPole)**
```python
import gym

def create_policy(weights):
    def policy(observation):
        hidden = np.tanh(observation @ weights[:32].reshape(4, 8))
        output = hidden @ weights[32:].reshape(8, 2)
        return np.argmax(output)
    return policy

def evaluate_policy(weights, num_episodes=5):
    env = gym.make('CartPole-v1')
    total_reward = 0

    for _ in range(num_episodes):
        observation = env.reset()
        episode_reward = 0

        for _ in range(500):
            action = create_policy(weights)(observation)
            observation, reward, done, _ = env.step(action)
            episode_reward += reward
            if done:
                break

        total_reward += episode_reward

    return total_reward / num_episodes

evolution = Evolution(
    fitness_function=evaluate_policy,
    num_genes=4*8 + 8*2,  # é‡ã¿ã®æ•°
    bounds=[(-1, 1)] * (4*8 + 8*2),
    num_islands=4,
    population_per_island=30
)

best = evolution.evolve(num_generations=50)
```

---

## ğŸ”— çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### Shinka QAã¨Shinka Evolveã‚’çµ„ã¿åˆã‚ã›ãŸæ´»ç”¨

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼1: ãƒ†ã‚¹ãƒˆå“è³ªã¨ãƒ¢ãƒ‡ãƒ«æœ€é©åŒ–ã®åŒæ™‚é€²è¡Œ

```python
# 1. Shinka Evolveã§ãƒ¢ãƒ‡ãƒ«ã‚’æœ€é©åŒ–
evolution_model = Evolution(
    fitness_function=model_fitness,
    num_genes=10,
    bounds=[...]
)
best_model = evolution_model.evolve(num_generations=50)

# 2. æœ€é©åŒ–ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’Shinka QAã§æ”¹å–„
import subprocess
subprocess.run([
    'shinka-qa', 'evolve',
    '--config', 'quality_config.yaml',
    '--target', f'model_{best_model}.py'
])
```

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼2: ã‚«ã‚¹ã‚¿ãƒ é€²åŒ–ã‚¨ãƒ³ã‚¸ãƒ³ã®æ§‹ç¯‰

```python
from shinka_evolve import Evolution
from shinka_qa import TestEvolution

class CustomEvolution:
    def __init__(self):
        self.model_evolution = Evolution(...)
        self.test_evolution = TestEvolution(...)

    def co_evolve(self, num_iterations):
        for i in range(num_iterations):
            # ãƒ¢ãƒ‡ãƒ«ã‚’é€²åŒ–
            best_model = self.model_evolution.evolve(num_generations=10)

            # ãã®ãƒ¢ãƒ‡ãƒ«ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’é€²åŒ–
            best_test = self.test_evolution.evolve(
                target_model=best_model,
                num_generations=5
            )

            # çµæœã‚’è©•ä¾¡
            self.evaluate(best_model, best_test)
```

---

## ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. æ®µéšçš„å°å…¥

**Phase 1: ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆ (1-2ãƒ¶æœˆ)**
```
ç›®æ¨™: å°è¦æ¨¡ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§åŠ¹æœã‚’ç¢ºèª
å¯¾è±¡: 100-500è¡Œã®ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
è¨­å®š: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‹ã‚‰é–‹å§‹
```

**Phase 2: æ‹¡å¤§ (3-6ãƒ¶æœˆ)**
```
ç›®æ¨™: è¤‡æ•°ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«é©ç”¨
å¯¾è±¡: ä¸»è¦ãªæ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
è¨­å®š: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
```

**Phase 3: å…¨é¢å±•é–‹ (6-12ãƒ¶æœˆ)**
```
ç›®æ¨™: çµ„ç¹”å…¨ä½“ã«å±•é–‹
å¯¾è±¡: ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
è¨­å®š: CI/CDçµ±åˆã€è‡ªå‹•åŒ–
```

### 2. æ¸¬å®šã¨æ”¹å–„

**KPIè¨­å®š**:
```yaml
before:
  coverage: 35%
  bugs_per_month: 15
  test_writing_time: 25h

after:
  coverage: 85%
  bugs_per_month: 3
  test_writing_time: 2.5h

improvement:
  coverage: +50pt (+143%)
  bugs: -12ä»¶ (-80%)
  time: -22.5h (-90%)
```

**ROIè¨ˆç®—**:
```
æŠ•è³‡:
- ãƒ„ãƒ¼ãƒ«å°å…¥: 0å††ï¼ˆOSSï¼‰
- å­¦ç¿’æ™‚é–“: 3æ™‚é–“ Ã— 10äºº = 30æ™‚é–“
- å®Ÿè¡Œæ™‚é–“: æœˆ10æ™‚é–“

ãƒªã‚¿ãƒ¼ãƒ³:
- ãƒã‚°ä¿®æ­£å‰Šæ¸›: 12ä»¶ Ã— Â¥50,000 = Â¥600,000/æœˆ
- ãƒ†ã‚¹ãƒˆä½œæˆå‰Šæ¸›: 22.5æ™‚é–“ Ã— Â¥8,000 = Â¥180,000/æœˆ

ROI: (Â¥780,000 - Â¥80,000) / Â¥80,000 = 8.75å€
```

### 3. ãƒãƒ¼ãƒ å…±æœ‰

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
```markdown
# ãƒãƒ¼ãƒ Wiki: Shinkaä½¿ç”¨ã‚¬ã‚¤ãƒ‰

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ
1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: `pip install shinka-qa shinka-evolve`
2. è¨­å®šä½œæˆ: `cp template_config.yaml quality_config.yaml`
3. å®Ÿè¡Œ: `shinka-qa evolve --config quality_config.yaml`

## ã‚ˆãã‚ã‚‹è³ªå•
Q: å®Ÿè¡ŒãŒé…ã„
A: num_generationsã‚’æ¸›ã‚‰ã™

Q: ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä¸ŠãŒã‚‰ãªã„
A: coverage weightã‚’å¢—ã‚„ã™
```

**Slacké€šçŸ¥**:
```bash
# é€²åŒ–å®Œäº†å¾Œã«Slacké€šçŸ¥
shinka-qa evolve --config quality_config.yaml
curl -X POST -H 'Content-type: application/json' \
  --data '{"text":"Coverage improved to 92%!"}' \
  $SLACK_WEBHOOK_URL
```

---

## â“ FAQ

### Q1: Shinka QAã¨Shinka Evolveã¯ã©ã†é•ã†ï¼Ÿ

**A**:
- **Shinka QA**: ãƒ†ã‚¹ãƒˆå“è³ªæ”¹å–„ã«ç‰¹åŒ–ã—ãŸãƒ„ãƒ¼ãƒ«
- **Shinka Evolve**: æ±ç”¨çš„ãªé€²åŒ–çš„æœ€é©åŒ–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

Shinka QAã¯å†…éƒ¨ã§Shinka Evolveã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

### Q2: ã©ã¡ã‚‰ã‚’å…ˆã«å­¦ã¶ã¹ãï¼Ÿ

**A**:
- **ãƒ†ã‚¹ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢**: Shinka QAã‹ã‚‰é–‹å§‹
- **ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆ**: Shinka Evolveã‹ã‚‰é–‹å§‹
- **ä¸¡æ–¹èˆˆå‘³ãŒã‚ã‚‹**: Shinka QA â†’ Shinka Evolveã®é †ãŒç†è§£ã—ã‚„ã™ã„

### Q3: å•†ç”¨åˆ©ç”¨å¯èƒ½ï¼Ÿ

**A**: ã¯ã„ã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§å®Œå…¨ã«ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã€‚å•†ç”¨åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

### Q4: ä»–è¨€èªå¯¾å¿œã¯ï¼Ÿ

**A**:
ç¾åœ¨ã¯Pythonã®ã¿å¯¾å¿œã€‚ä»Šå¾Œã®å¯¾å¿œäºˆå®šï¼š
- JavaScript/TypeScript (Jest)
- Java (JUnit)
- Go (testing package)

### Q5: LLMã¨ã®ä½µç”¨ã¯ï¼Ÿ

**A**: æ¨å¥¨ã—ã¾ã™ã€‚
```python
# LLM + Shinka QAã®çµ„ã¿åˆã‚ã›
# 1. LLMã§åˆæœŸãƒ†ã‚¹ãƒˆã‚’ç”Ÿæˆ
initial_tests = llm.generate_tests(source_code)

# 2. Shinka QAã§æ”¹å–„
shinka-qa evolve --initial-file initial_tests.py
```

### Q6: å­¦ç¿’æ™‚é–“ã¯ï¼Ÿ

**A**:
- Shinka QAåŸºç¤: 2æ™‚é–“
- Shinka QAå®Ÿè·µ: 3æ™‚é–“
- Shinka EvolveåŸºç¤: 1.5æ™‚é–“
- Shinka Evolveå®Ÿè·µ: 3æ™‚é–“
- **åˆè¨ˆ**: ç´„10æ™‚é–“ã§ä¸¡æ–¹ãƒã‚¹ã‚¿ãƒ¼

### Q7: ã‚µãƒãƒ¼ãƒˆã¯ï¼Ÿ

**A**:
- GitHub Issues: ãƒã‚°å ±å‘Šã€æ©Ÿèƒ½è¦æœ›
- GitHub Discussions: è³ªå•ã€è­°è«–
- Slack: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚µãƒãƒ¼ãƒˆ

---

## ğŸ“š ãƒªã‚½ãƒ¼ã‚¹

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- Shinka Evolve: https://docs.shinka-evolve.com

### ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- Shinka QA: `tutorials/`
- Shinka Evolve: `tutorials_evolve/`

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
- GitHub: https://github.com/yourusername/shinka

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- Forum: https://community.shinka.ai
- Slack: https://shinka.slack.com
- Twitter: @shinkaframework

---

## ğŸ“ èªå®šãƒ—ãƒ­ã‚°ãƒ©ãƒ 

### Shinkaèªå®šã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢

**ãƒ¬ãƒ™ãƒ«1: ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ**
- Shinka QAåŸºç¤ãƒã‚¹ã‚¿ãƒ¼
- Shinka EvolveåŸºç¤ãƒã‚¹ã‚¿ãƒ¼
- è©¦é¨“æ™‚é–“: 1æ™‚é–“

**ãƒ¬ãƒ™ãƒ«2: ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«**
- å®Ÿãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®æ´»ç”¨
- ã‚«ã‚¹ã‚¿ãƒ æˆ¦ç•¥ä½œæˆ
- è©¦é¨“æ™‚é–“: 2æ™‚é–“

**ãƒ¬ãƒ™ãƒ«3: ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ**
- çµ„ç¹”å±•é–‹
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
- è©¦é¨“æ™‚é–“: 3æ™‚é–“

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. ç’°å¢ƒæ§‹ç¯‰ (5åˆ†)
```bash
# Python 3.11ä»¥ä¸Šã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
python --version  # 3.11+

# Shinkaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install shinka-qa shinka-evolve

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
shinka-qa --version
python -c "import shinka_evolve; print(shinka_evolve.__version__)"
```

### 2. ã‚µãƒ³ãƒ—ãƒ«å®Ÿè¡Œ (10åˆ†)
```bash
# Shinka QAã‚µãƒ³ãƒ—ãƒ«
cd examples/simple_calculator
shinka-qa evolve --config quality_config.yaml

# Shinka Evolveã‚µãƒ³ãƒ—ãƒ«
cd examples/optimization
python sphere_optimization.py
```

### 3. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«é–‹å§‹ (3æ™‚é–“)
```bash
# Shinka QAãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
cd tutorials/part00_introduction
cat guide.md

# Shinka Evolveãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
cd tutorials_evolve/part00_introduction
cat guide.md
```

### 4. è‡ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨ (1æ—¥)
```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
cp examples/quality_config.yaml your_project/

# å®Ÿè¡Œ
cd your_project
shinka-qa evolve --config quality_config.yaml
```

---

## ğŸ™ è¬è¾

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€å¤šãã®æ–¹ã€…ã®è²¢çŒ®ã«ã‚ˆã£ã¦æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ï¼š
- ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼
- ãƒ™ãƒ¼ã‚¿ãƒ†ã‚¹ã‚¿ãƒ¼
- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æä¾›è€…
- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¡ãƒ³ãƒãƒ¼

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

Copyright (c) 2025 Yoshiki Kanda

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...

---

**ä½œæˆæ—¥**: 2025-11-07
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0
**è‘—è€…**: Yoshiki Kanda

---

**ã•ã‚ã€Shinkaã®ä¸–ç•Œã¸ã‚ˆã†ã“ãï¼**

[Shinka QAãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å§‹ã‚ã‚‹ â†’](tutorials/README.md)
[Shinka Evolveãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å§‹ã‚ã‚‹ â†’](tutorials_evolve/README.md)

# Shinka Quality CI/CD Configuration

# Test target - using simple_calculator as default example
target:
  module_path: "examples/simple_calculator/calculator.py"
  test_initial_path: "examples/simple_calculator/test_calculator_initial.py"
  seeded_bugs_path: "examples/simple_calculator/calculator_buggy.py"

# Fitness function weights
fitness_weights:
  coverage: 0.4          # Test coverage
  bug_detection: 0.35    # Bug detection rate
  efficiency: 0.15       # Execution efficiency
  maintainability: 0.1   # Code quality

# Evolution parameters (reduced for CI/CD)
evolution:
  generations: 10              # Number of generations (reduced for CI speed)
  population_size: 10          # Population size per island (reduced for CI)
  num_islands: 2               # Number of islands (reduced for CI)
  migration_interval: 5        # Migration interval (generations)
  migration_rate: 0.1          # Migration rate
  elite_ratio: 0.3             # Elite selection ratio

# LLM settings (optional - will be skipped if not configured)
llm:
  # ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼é¸æŠ: none, auto, openai, gemini, anthropic
  # none: LLMç„¡åŠ¹ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®ã¿ï¼‰
  # auto: ç’°å¢ƒå¤‰æ•°ã‹ã‚‰è‡ªå‹•æ¤œå‡ºã€å®‰ã„é †ã«ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰ â­
  # openai: OpenAI GPT ãƒ¢ãƒ‡ãƒ«
  # gemini: Google Gemini ãƒ¢ãƒ‡ãƒ«ï¼ˆæœ€å®‰ï¼‰
  # anthropic: Anthropic Claude ãƒ¢ãƒ‡ãƒ«ï¼ˆã‚³ã‚¹ãƒ‘æœ€é«˜ï¼‰
  provider: "google"           # OpenAI GPTãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨

  # ãƒ¢ãƒ‡ãƒ«é¸æŠï¼ˆproviderãŒ"auto"ã®å ´åˆã¯ç„¡è¦–ã•ã‚Œã‚‹ï¼‰
  # OpenAI: gpt-5-nano, gpt-4-turbo
  # Gemini: gemini-2.5-flash (æ¨å¥¨ãƒ»æœ€å®‰), gemini-2.0-flash
  # Anthropic: claude-4.5-haiku (æ¨å¥¨ãƒ»ã‚³ã‚¹ãƒ‘), claude-3.5-sonnet
  model: "gemini-2.5-flash"

  temperature: 0.7
  max_tokens: 2000

  # ğŸ¯ æ¨å¥¨è¨­å®š: è¤‡æ•°APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦è‡ªå‹•é¸æŠ
  # provider: "auto"
  # model: "auto"
  #
  # â†’ .envã«ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’ã‚»ãƒƒãƒˆ:
  #   GEMINI_API_KEY=xxx        # æœ€å®‰ ($0.075/1M)
  #   ANTHROPIC_API_KEY=xxx     # ã‚³ã‚¹ãƒ‘æœ€é«˜ ($0.25/1M)
  #   OPENAI_API_KEY=xxx        # å¾“æ¥ ($0.50/1M)
  # â†’ è‡ªå‹•çš„ã«æœ€å®‰ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‹ã‚‰ä½¿ç”¨ã—ã€ã‚¨ãƒ©ãƒ¼æ™‚ã¯æ¬¡ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  #
  # å˜ä¸€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®šä¾‹:
  # æœ€å®‰ã‚³ã‚¹ãƒˆé‡è¦–:
  #   provider: "gemini"
  #   model: "gemini-2.5-flash"
  #
  # ãƒãƒ©ãƒ³ã‚¹é‡è¦–ï¼ˆã‚³ã‚¹ãƒ‘æœ€é«˜ï¼‰:
  #   provider: "anthropic"
  #   model: "claude-4.5-haiku"
  #
  # OpenAIåˆ©ç”¨:
  #   provider: "openai"
  #   model: "gpt-5-nano"

  # UCB1 parameters
  bandit:
    exploration_coefficient: 1.0
    models:
      - "gemini-2.5-flash"
      - "gemini-2.0-flash"

# Mutation strategies
mutation_strategies:
  - "add_edge_cases"
  - "improve_assertions"
  - "add_parametrize"

# Execution limits
limits:
  max_test_time: 10.0          # Maximum execution time per test (seconds)
  max_total_time: 180.0        # Maximum total execution time (seconds - reduced for CI)
  max_test_file_size: 5000     # Maximum test file lines

# Output
output:
  results_dir: "results/"
  save_all_generations: false  # Set to false to save space in CI
  visualization: false         # Set to false to skip visualization in CI
